# Management Services

Here we look at the below management services which help us to:
  * Understand how our stuff is organised, and what we are paying for
  * Understand who has access to our stuff
  * See what is happening to our resources

This is not as 'fun' and interesting as other topics, but critical to the role
of a cloud architect, as if not managed correctly, can lead to:
  * Unauthorised access to resources
  * Runaway / hidden costs
  * Project resources halted due to improper billing setup
  * Application / service errors which we do not know how to fix
  
## Resource Heirachy

The GCP resource heirachy defines a top / down approach to resource management
with an inheritence of access controls defines by IAM policies. The core 
principles include:
  * Each child must have one parent
  * Permissions are inherited from parent down
  * More permissive parent policies overwrite more restrictive child policies

The GCP heirachy is made up of resources which are grouped into the below types:
  * Organisation
  * Folders
  * Projects
  * Resources

### Organisation Resource

The organisation resource is the root node of the GCP heirachy. IAM resource 
policies defined at this level are applied throughout your GCP resource heirachy.

Not applicable to personal email accounts, a user has to have a registered 
company domain name to be a suitable organisation resource. For example, 
`admin@anz.com`, with all other users containing emails registered to the 
`@anz.com` domain.

Key Roles:
  *  Organisation Admin: Full power to edit all permissions
  *  Organisation Owner: Reserved for gsuite / cloud identity super user

### Folder Resources

An optional resource which allows you to define isolation boundaries between 
projects. IAM policies defined at the folder level apply to all projects within
that folder. A common use case for this might be to group projects which are 
related to a particular department.

### Project Resources

The core resource component within the GCP resource heiracy. Without a project, 
you are unable to do anything with GCP. Projects provide the basis for creating, 
enabling and using GCP services.

Identifiers:
  * Project ID: Globally unique ID to represent your project
  * Project Name: Friendly user name
  * Project Number: Autogenerated project number

### Resources

The final component is a resource within GCP. These make up anything which you 
can actually use on GCP.
  * Instances
  * Databases
  * Services
  * API's
  * Storage Buckets

## Labels

Labels are a tool for organising GCP resources, there is no set stucture to how
you should use labelsl, but a common use case is to search for and filter 
resources based on labels.

They are a key/value pair, where the key is a unique identifier. An example of 
such would be `env:production`.

Labels differ from Network Tags in that:
  * Labels can be applied across all of GCP, Network Tags can only be applied 
    to network / VPC resources
  * Labels are used for organisational purposes only
  * Labels do not affect resource operation, but Network Tags do affect resource
    operation

## Quotas

Quotas put a cap on the total resources you can create. Given we are operating 
in an environment with the ability to create infinite resources with the click
of a button, quotas provide protection against unexpected resources spikes, 
which might lead to a massive increase in billing.

This increase in resources could come from an accidental increase by a user, or
perhaps by a malicious user who was intending to do harm.

Quoata provide a soft cap on resources and will normally take one of the below
forms:
  * Resource per project
  * API rate limit requests per project
  * Per region basis

Quotas can be increased via a self service request ticket and it is best to do
so on a per usage basis, as the use case for an increase arises.

Quotas can be viewed from the `IAM & Admin` console. To increase a quota, you
click the `Edit Quota` button from within the console view, and it prompts you
to fill out a form with your details, and the reasons for your increase. This
will be sent to the Google Cloud Team for review and processed within a day.
